<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>中原找房官网(移动站) | CENTANET-前端项目指南</title>
    <meta name="generator" content="VuePress 1.8.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.2b5a2195.css" as="style"><link rel="preload" href="/assets/js/app.fe1f2b84.js" as="script"><link rel="preload" href="/assets/js/2.252b81b9.js" as="script"><link rel="preload" href="/assets/js/17.4c471b83.js" as="script"><link rel="prefetch" href="/assets/js/10.b3cafea4.js"><link rel="prefetch" href="/assets/js/11.4553ca87.js"><link rel="prefetch" href="/assets/js/12.8a5a071d.js"><link rel="prefetch" href="/assets/js/13.e86a4c8b.js"><link rel="prefetch" href="/assets/js/14.96419a4f.js"><link rel="prefetch" href="/assets/js/15.447b80d1.js"><link rel="prefetch" href="/assets/js/16.cd543bfc.js"><link rel="prefetch" href="/assets/js/18.f809706f.js"><link rel="prefetch" href="/assets/js/19.54eff449.js"><link rel="prefetch" href="/assets/js/20.e46c261a.js"><link rel="prefetch" href="/assets/js/3.ca0ddb7a.js"><link rel="prefetch" href="/assets/js/4.4389bf5d.js"><link rel="prefetch" href="/assets/js/5.e3f0e062.js"><link rel="prefetch" href="/assets/js/6.5e8dd033.js"><link rel="prefetch" href="/assets/js/7.501bf071.js"><link rel="prefetch" href="/assets/js/8.aaa72801.js"><link rel="prefetch" href="/assets/js/9.544433e0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2b5a2195.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">CENTANET-前端项目指南</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>中原官网-移动站</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/centanet/webapp.html" aria-current="page" class="active sidebar-link">中原找房官网(移动站)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/centanet/webapp.html#基本信息" class="sidebar-link">基本信息</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/centanet/webapp.html#对应线上应用" class="sidebar-link">对应线上应用</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/webapp.html#git地址" class="sidebar-link">GIT地址</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/webapp.html#对接人员" class="sidebar-link">对接人员</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/webapp.html#测试环境" class="sidebar-link">测试环境</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/webapp.html#线上部署服务器" class="sidebar-link">线上部署服务器</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/webapp.html#静态资源服务器" class="sidebar-link">静态资源服务器</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/webapp.html#项目框架" class="sidebar-link">项目框架</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/centanet/webapp.html#项目结构" class="sidebar-link">项目结构</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/webapp.html#新增城市配置" class="sidebar-link">新增城市配置</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/webapp.html#发布测试环境流程" class="sidebar-link">发布测试环境流程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/centanet/webapp.html#构建测试包" class="sidebar-link">构建测试包</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/webapp.html#测试环境发布-部署" class="sidebar-link">测试环境发布&amp;部署</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/centanet/webapp.html#发布生产环境流程" class="sidebar-link">发布生产环境流程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/centanet/webapp.html#构建生产包" class="sidebar-link">构建生产包</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/webapp.html#针对已上线城市部署" class="sidebar-link">针对已上线城市部署</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/webapp.html#针对新城市开通上线" class="sidebar-link">针对新城市开通上线</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>中原官网-用户中心</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/centanet/passport.html" class="sidebar-link">中原找房官网(用户中心)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/centanet/passport.html#基本信息" class="sidebar-link">基本信息</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/passport.html#对应线上应用" class="sidebar-link">对应线上应用</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/passport.html#git地址" class="sidebar-link">GIT地址</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/passport.html#对接人员" class="sidebar-link">对接人员</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/centanet/passport.html#线上部署服务器" class="sidebar-link">线上部署服务器</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/passport.html#项目框架" class="sidebar-link">项目框架</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/passport.html#项目结构" class="sidebar-link">项目结构</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/centanet/passport.html#发版流程" class="sidebar-link">发版流程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/centanet/passport.html#构建生产包" class="sidebar-link">构建生产包</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/passport.html#生产环境部署" class="sidebar-link">生产环境部署</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>中原官网-微聊小程序端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/centanet/chat-mp.html" class="sidebar-link">经纪人端微聊小程序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#基本信息" class="sidebar-link">基本信息</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#对应线上应用" class="sidebar-link">对应线上应用</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#git地址" class="sidebar-link">GIT地址</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#管理后台" class="sidebar-link">管理后台</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#对接人员" class="sidebar-link">对接人员</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#配置相关信息" class="sidebar-link">配置相关信息</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#项目框架" class="sidebar-link">项目框架</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#项目结构" class="sidebar-link">项目结构</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#注意事项" class="sidebar-link">注意事项</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#_1-异常监控与事件上报" class="sidebar-link">1.异常监控与事件上报</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#_2-小程序后台日志查询" class="sidebar-link">2.小程序后台日志查询</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#_3-新消息提醒逻辑" class="sidebar-link">3.新消息提醒逻辑</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#_4-更新会话头像和群id逻辑" class="sidebar-link">4.更新会话头像和群ID逻辑</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#扩展功能" class="sidebar-link">扩展功能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#_1-用户轨迹" class="sidebar-link">1.用户轨迹</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#_2-发送房源" class="sidebar-link">2.发送房源</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#_3-邀请经纪人进群" class="sidebar-link">3.邀请经纪人进群</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#_4-激活历史会话" class="sidebar-link">4.激活历史会话</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#发版流程" class="sidebar-link">发版流程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#构建生产包" class="sidebar-link">构建生产包</a></li><li class="sidebar-sub-header"><a href="/guide/centanet/chat-mp.html#提交审核并发布" class="sidebar-link">提交审核并发布</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>中原官网-工具类</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/centanet/tools-cal.html" class="sidebar-link">/guide/centanet/tools-cal.html</a></li><li><a href="/guide/centanet/tools-entrust.html" class="sidebar-link">/guide/centanet/tools-entrust.html</a></li><li><a href="/guide/centanet/tools-history.html" class="sidebar-link">/guide/centanet/tools-history.html</a></li><li><a href="/guide/centanet/tools-vr.html" class="sidebar-link">/guide/centanet/tools-vr.html</a></li><li><a href="/guide/centanet/tools-iqtheme.html" class="sidebar-link">/guide/centanet/tools-iqtheme.html</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HOUSE730-官网移动站</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/house730/webapp.html" class="sidebar-link">标题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HOUSE730-用户中心</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/house730/passport.html" class="sidebar-link">标题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HOUSE730-VR看房</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/house730/vr.html" class="sidebar-link">HOUSE730 VR看房</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/house730/vr.html#基本信息" class="sidebar-link">基本信息</a></li><li class="sidebar-sub-header"><a href="/guide/house730/vr.html#对应线上应用" class="sidebar-link">对应线上应用</a></li><li class="sidebar-sub-header"><a href="/guide/house730/vr.html#git地址" class="sidebar-link">GIT地址</a></li><li class="sidebar-sub-header"><a href="/guide/house730/vr.html#对接人员" class="sidebar-link">对接人员</a></li><li class="sidebar-sub-header"><a href="/guide/house730/vr.html#线上部署服务器" class="sidebar-link">线上部署服务器</a></li><li class="sidebar-sub-header"><a href="/guide/house730/vr.html#项目框架" class="sidebar-link">项目框架</a></li><li class="sidebar-sub-header"><a href="/guide/house730/vr.html#项目结构" class="sidebar-link">项目结构</a></li><li class="sidebar-sub-header"><a href="/guide/house730/vr.html#注意事项" class="sidebar-link">注意事项</a></li><li class="sidebar-sub-header"><a href="/guide/house730/vr.html#发布测试环境流程" class="sidebar-link">发布测试环境流程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/house730/vr.html#修改api连接地址" class="sidebar-link">修改API连接地址</a></li><li class="sidebar-sub-header"><a href="/guide/house730/vr.html#构建测试包-生产环境通用" class="sidebar-link">构建测试包(生产环境通用)</a></li><li class="sidebar-sub-header"><a href="/guide/house730/vr.html#测试环境部署" class="sidebar-link">测试环境部署</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/house730/vr.html#发布生产环境流程" class="sidebar-link">发布生产环境流程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/house730/vr.html#构建生产包-同测试环境" class="sidebar-link">构建生产包(同测试环境)</a></li><li class="sidebar-sub-header"><a href="/guide/house730/vr.html#生产环境部署" class="sidebar-link">生产环境部署</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="中原找房官网-移动站"><a href="#中原找房官网-移动站" class="header-anchor">#</a> 中原找房官网(移动站)</h1> <br> <h2 id="基本信息"><a href="#基本信息" class="header-anchor">#</a> 基本信息</h2> <div class="custom-block tip"><p class="custom-block-title">简介</p> <p>中原官网移动端站点,面向外网客户, 除【香港】【澳门】【上海】外,所有城市官网移动站均使用此套应用</p></div> <p><br><br></p> <h3 id="对应线上应用"><a href="#对应线上应用" class="header-anchor">#</a> 对应线上应用</h3> <hr> <p><strong>城市1：</strong> 深圳  <a href="https://m.sz.centanet.com/" target="_blank" rel="noopener noreferrer">https://m.sz.centanet.com/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <strong>城市2：</strong> 广州  <a href="https://m.gz.centanet.com/" target="_blank" rel="noopener noreferrer">https://m.gz.centanet.com/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <strong>城市3：</strong> 深圳海外 <a href="https://m.sz.centanet.com/szworld/" target="_blank" rel="noopener noreferrer">https://m.sz.centanet.com/szworld/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <strong>城市4：</strong> 天津  <a href="https://wap.centanet.com/tj/" target="_blank" rel="noopener noreferrer">https://wap.centanet.com/tj/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <strong>城市5：</strong> 北京  <a href="https://wap.centanet.com/bj/" target="_blank" rel="noopener noreferrer">https://wap.centanet.com/bj/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>
除深圳、 广州、 深圳海外以m.xx.centanet.com格式域名外， 其他城市URL规则均与天津、北京相同</p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>在配置时，所有城市简拼均为城市首字母，但也有部分例外，具体如下：<br>
哈尔滨 简称 【hrb】<br>
赣州 简称【ganzhou】<br>
杭州 简称【zj】<br>
深圳海外 简称【szworld】</p></div> <p><br><br></p> <h3 id="git地址"><a href="#git地址" class="header-anchor">#</a> GIT地址</h3> <hr> <p><a href="http://gitlab.centaline.com.cn/centnet-group/centanet/web/webapp/" target="_blank" rel="noopener noreferrer">http://gitlab.centaline.com.cn/centnet-group/centanet/web/webapp/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <strong>开发分支：</strong> 3.0分支<br> <strong>线上分支：</strong> master分支
<br><br></p> <h3 id="对接人员"><a href="#对接人员" class="header-anchor">#</a> 对接人员</h3> <hr> <p><strong>后端API：</strong> 白金强(二手房)、钟金龙(二手房)、邹渊(新房)、王传林(passport)<br> <strong>前端：</strong> 陈圆(项目主负责人)、王冰华、何宇菲
<br><br></p> <h3 id="测试环境"><a href="#测试环境" class="header-anchor">#</a> 测试环境</h3> <hr> <p><strong>服务器IP：</strong> 10.58.8.33
<strong>依赖环境：</strong> IIS+URL重写模块(需额外安装)<br> <strong>IIS应用名：</strong> vue_wap开头对应的三个应用
<strong>端口号：</strong>   集团：5566、 广州：5567、  深圳：5568<br> <strong>程序目录：</strong> D:\WebRoot\vue<br> <br> <br></p> <h3 id="线上部署服务器"><a href="#线上部署服务器" class="header-anchor">#</a> 线上部署服务器</h3> <hr> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>涉及服务器发布的文件,必须77、 78、 161三台服务器同步更新</p></div> <p><strong>依赖环境：</strong> IIS+URL重写模块(需额外安装)<br> <strong>IIS应用名：</strong> wap.centanet.com<br> <strong>端口号：</strong> 83<br> <strong>程序目录：</strong> D:\waproot\Vue_Mobile<br> <strong>服务器IP：</strong></p> <ul><li>10.4.18.77</li> <li>10.4.18.78</li> <li>10.4.18.161<br> <br></li></ul> <h3 id="静态资源服务器"><a href="#静态资源服务器" class="header-anchor">#</a> 静态资源服务器</h3> <hr> <p>wap站整站除(index.html),所有资源均放置阿里云OSS</p> <p><strong>测试环境路径：</strong> <code>oss://static-centanet-com/wap/main-test/</code><br> <strong>生产环境路径：</strong> <code>oss://static-centanet-com/wap/main/</code></p> <p>具体OSS登录授权账号 见附件<br> <br></p> <h3 id="项目框架"><a href="#项目框架" class="header-anchor">#</a> 项目框架</h3> <hr> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>注：后续版本迭代将陆续废除Muse-UI ,全部切换为Vant  故日常开发中,避免再继续使用Muse-UI</p></div> <p><strong>脚手架版本：</strong> vue-cli3.0<br> <strong>Vue版本：</strong> vue 2.6<br> <strong>UI设计标准：</strong> Material Design<br> <strong>UI框架：</strong> Muse-UI、Vant<br> <br></p> <h2 id="项目结构"><a href="#项目结构" class="header-anchor">#</a> 项目结构</h2> <p>具体目录结构,以及对应目录-功能模块参考：
核心模块&amp;文件参考高亮标记</p> <pre class="vue-container"><code><p>centanet-webapp-3.0<br>
├─ .babelrc       ---babel编译配置
├─ .eslintrc.js   ---ESlint语法检查配置
├─ .prettierrc    ---代码格式化 美化配置
├─ common   ---公共文件夹
│  ├─ css   ---公共文件夹-css
│  │  ├─ base.css
│  │  ├─ base.min.css
│  │  ├─ ...
│  ├─ font   ---公共文件夹-字体
│  │  ├─ icon.css
│  │  ├─ ...
│  ├─ img    ---公共文件夹-图片
│  │  ├─ avatar.jpg
│  │  ├─ blank-dui.png
│  │  ├─ blank-er.png
│  │  ├─ ....
│  └─ js    ---公共文件夹-公共js、过滤器、插件等等
│     ├─ filter.js   ---vue过滤器
│     ├─ getMapData.js
│     ├─ promise.min.js   ---promise库 解决部分低端安卓机不支持promise的问题
│     ├─ <code>public.js</code>  ---核心公共js文件 大多数公共逻辑在此文件
│     ├─ slide.js  ---轮播图插件
│     ├─ svg-chart.js  ---图表插件
│     └─ _conf.js
├─ package-lock.json
├─ package.json
├─ <code>public</code>  ---开放目录 放置打包后生成的文件
│  ├─ config.js
│  ├─ favicon.ico
│  ├─ index.html
│  └─ <code>template</code>  ---存放各个城市index.html模板文件
├─ README.md
├─ <code>src</code> ---wap站各个模块核心代码
│  ├─ App.vue
│  ├─ assets  ---资源文件
│  │  ├─ agency_header.png
│  │  ├─ blank-er.png
│  │  ├─ chat_icon.png
│  │  ├─ dingweibackground.png
│  │  ├─ ditie.png
│  │  ├─ ...
│  │  ├─ xf-detail  --深圳新房改版资源文件
│  │  │  ├─ activity-bgc.png
│  │  │  ├─ ans-bc.png
│  │  │  ├─ calc-icon.png
│  │  │  ├─ car-bgc.png
│  │  │  ├─ ...
│  │  ├─ xf_list.png
│  │  ├─ xuexiao.png
│  │  ├─ yinhang.png
│  │  └─ yiyuan.png
│  ├─ <code>components</code>  --vue组件
│  │  ├─ <code>filter</code>   --房源筛选相关组件
│  │  │  ├─ ershoufang.vue
│  │  │  ├─ xiaoqu.vue
│  │  │  ├─ xinfang.vue
│  │  │  └─ xinfang_list.vue
│  │  ├─ <code>house</code>   --户型详情组件
│  │  │  └─ houseTypeDetail.vue
│  │  ├─ <code>list</code>    --房源列表相关组件(经纪人店铺页等)
│  │  │  ├─ ershoufang.vue
│  │  │  ├─ xinfang.vue
│  │  │  ├─ xuexiao-xf.vue
│  │  │  └─ zufang.vue
│  │  ├─ <code>map</code>    --地图找房相关组件
│  │  │  ├─ mapListEsf.vue
│  │  │  ├─ mapListXf.vue
│  │  │  └─ mapListZf.vue
│  │  ├─ <code>tools</code>  --其他页面通用组件
│  │  │  ├─ attentionModel.vue
│  │  │  ├─ bottom-btn.vue
│  │  │  ├─ call400.vue
│  │  │  ├─ chart.vue
│  │  │  ├─ chart_trend.vue
│  │  │  ├─ chatModal.vue
│  │  │  ├─ cm-broker.vue
│  │  │  ├─ contact.vue
│  │  │  ├─ contact_xinfang.vue
│  │  │  ├─ copyright copy.vue
│  │  │  ├─ copyright.vue
│  │  │  ├─ doughnut.vue
│  │  │  ├─ downApp.vue
│  │  │  ├─ downAppDetail.vue
│  │  │  ├─ headers.vue
│  │  │  ├─ hotdata.vue
│  │  │  ├─ interest.vue
│  │  │  ├─ slide.vue
│  │  │  ├─ slideact.vue
│  │  │  ├─ slide_big.vue
│  │  │  ├─ slide_big_xinfang.vue
│  │  │  ├─ slide_video.vue
│  │  │  └─ toast.vue
│  │  └─ trading.vue
│  ├─ <code>main.js</code>     ---项目启动入口js文件
│  ├─ <code>router.js</code>   ---vue router声明文件
│  └─ <code>views</code>     ---页面级别组件
│     ├─ <code>details</code>  ---详情页相关页面
│     │  ├─ ershoufang.vue
│     │  ├─ guwen.vue
│     │  ├─ huxing.vue
│     │  ├─ jingjiren.vue
│     │  ├─ mendian.vue
│     │  ├─ prop-ablum.vue
│     │  ├─ xiaoqu.vue
│     │  ├─ xinfang copy.vue
│     │  ├─ xinfang.vue
│     │  ├─ xuexiao-esf.vue
│     │  ├─ xuexiao-xf.vue
│     │  ├─ zixun.vue
│     │  └─ zufang.vue
│     ├─ index.vue --wap官网主页
│     ├─ <code>list</code>  --列表相关页面
│     │  ├─ compared.vue  --房源对比
│     │  ├─ contrast.vue
│     │  ├─ ershoufang.vue
│     │  ├─ jingjiren.vue
│     │  ├─ mendian.vue
│     │  ├─ ques-ans.vue
│     │  ├─ xiaoqu.vue
│     │  ├─ xinfang.vue
│     │  ├─ xuexiao.vue  --学校找房 暂停维护状态
│     │  ├─ zixun copy.vue
│     │  ├─ zixun.vue
│     │  └─ zufang.vue
│     ├─ search.vue --房源搜索页
│     └─ <code>tools</code> --通用工具类页面(成交、走势、街景、活动等)
│        ├─ activityApply.vue
│        ├─ activityIndex.vue
│        ├─ agentCard.vue
│        ├─ agreement.vue
│        ├─ call400info.vue
│        ├─ contrast.vue
│        ├─ estatevideo.vue
│        ├─ guide.vue
│        ├─ guideComment.vue
│        ├─ guide_xinfang.vue
│        ├─ map.baidu.vue
│        ├─ mapSearch.vue  --地图找房
│        ├─ more.vue
│        ├─ panoramic.vue
│        ├─ post400.vue
│        ├─ salesold.vue
│        ├─ seehouserecord.vue
│        ├─ sz_xiaoqu_details.vue
│        ├─ sz_xiaoqu_esf.vue
│        ├─ vista.vue
│        ├─ xfDeal.vue
│        ├─ xiaoqu_esf-zf.vue
│        └─ xinfang_more.vue
├─ <code>vue.config.js</code> --vue配置文件
└─ yarn.lock</p>
</code></pre><hr> <h2 id="新增城市配置"><a href="#新增城市配置" class="header-anchor">#</a> 新增城市配置</h2> <p><strong>新增城市配置文件</strong><br>
路径：<code>项目根目录/public/template/</code>下新增模板文件<code>index.html</code>,可从改目录下其他城市拷贝<br>
并修改<code>index.html</code>文件中的配置,只要为修改<code>windows.configs</code>配置, 参考如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>en</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>手机中原地产网<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>utf-8</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>viewport</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>二手房信息,二手房,二手房价格,二手房出售,中原房产网</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>Keywords</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>中原房产网为您提供最新最真实的楼盘信息,以及权威的房价走势分析、最全面的附近新楼盘,可以让您随时随地了解房价,是最好的专业房产网站,买房租房可联系中原。</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>Description</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>x-dns-prefetch-control</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>on</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>manifest</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>//static.centanet.com/vue/manifest.json</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>//at.alicdn.com/t/font_1599043_lbpq3bs9uq.css</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>stylesheet</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>text/css</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>//static.centanet.com/wap/js/vue.min.js</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>dns-prefetch</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>//pic.centanet.com</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>dns-prefetch</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>//static.centanet.com</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>dns-prefetch</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>//passport.centanet.com</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>dns-prefetch</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>//mobileapi.centanet.com</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>stylesheet</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>//static.centanet.com/wap/css/muse-ui.css</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>dns-prefetch</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>//img0bj.centainfo.com</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

   window<span class="token punctuation">.</span>configs <span class="token operator">=</span> <span class="token punctuation">{</span>
      CityName<span class="token operator">:</span> <span class="token string">'北京'</span><span class="token punctuation">,</span>  <span class="token comment">//城市中文名</span>
      Code<span class="token operator">:</span> <span class="token string">'010'</span><span class="token punctuation">,</span>  <span class="token comment">//城市code</span>
      City<span class="token operator">:</span> <span class="token string">'bj'</span><span class="token punctuation">,</span>  <span class="token comment">//城市简拼</span>
      py<span class="token operator">:</span> <span class="token string">'beijing'</span><span class="token punctuation">,</span> <span class="token comment">//城市全拼</span>
      webp<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">//webp默认配置(通常无须配置)</span>
      chat<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//是否开启微聊</span>
      openwebp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//是否启用webp</span>
      onlyxf<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//是否为纯新房城市</span>
      wxAppId<span class="token operator">:</span> <span class="token string">'wx8cd61b2bd7bc7020'</span><span class="token punctuation">,</span> <span class="token comment">//配置微信分享相关appid</span>
      wxApi<span class="token operator">:</span> <span class="token string">'https://mobileapi.centanet.com/v6/java/json/reply/WeChatJsApiTicket'</span><span class="token punctuation">,</span> <span class="token comment">//微信分享api</span>
      wxImg<span class="token operator">:</span> <span class="token string">'https://wap.centanet.com/images/wxshare.png'</span><span class="token punctuation">,</span><span class="token comment">//微信分享默认图</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">if</span> <span class="token punctuation">(</span>location<span class="token punctuation">.</span>href<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;bd_vid&quot;</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&quot;bd_track_vidurl&quot;</span><span class="token punctuation">,</span> location<span class="token punctuation">.</span>href<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> track_id <span class="token operator">=</span> <span class="token string">'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[xy]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> r <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">16</span> <span class="token operator">|</span> <span class="token number">0</span><span class="token punctuation">,</span>
          v <span class="token operator">=</span> c <span class="token operator">==</span> <span class="token string">'x'</span> <span class="token operator">?</span> r <span class="token operator">:</span> r <span class="token operator">&amp;</span> <span class="token number">0x3</span> <span class="token operator">|</span> <span class="token number">0x8</span><span class="token punctuation">;</span><span class="token keyword">return</span> v<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&quot;bd_track_userid&quot;</span><span class="token punctuation">,</span> track_id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css"><span class="token selector">html,body</span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span><span class="token property">margin</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span>0<span class="token punctuation">}</span><span class="token selector">.loading</span><span class="token punctuation">{</span><span class="token property">margin</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span><span class="token property">position</span><span class="token punctuation">:</span>absolute<span class="token punctuation">;</span><span class="token property">display</span><span class="token punctuation">:</span>flex<span class="token punctuation">;</span><span class="token property">z-index</span><span class="token punctuation">:</span>999999<span class="token punctuation">;</span><span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span><span class="token property">justify-content</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span><span class="token property">align-items</span><span class="token punctuation">:</span>center<span class="token punctuation">}</span><span class="token selector">.spinner</span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span>150px<span class="token punctuation">;</span><span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span><span class="token property">margin</span><span class="token punctuation">:</span>auto<span class="token punctuation">;</span><span class="token property">margin-top</span><span class="token punctuation">:</span>20px<span class="token punctuation">}</span><span class="token selector">.spinner&gt;div</span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span>20px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>20px<span class="token punctuation">;</span><span class="token property">background-color</span><span class="token punctuation">:</span>#ff3050<span class="token punctuation">;</span><span class="token property">border-radius</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span><span class="token property">display</span><span class="token punctuation">:</span>inline-block<span class="token punctuation">;</span><span class="token property">-webkit-animation</span><span class="token punctuation">:</span>bouncedelay 1.4s infinite ease-in-out<span class="token punctuation">;</span><span class="token property">animation</span><span class="token punctuation">:</span>bouncedelay 1.4s infinite ease-in-out<span class="token punctuation">;</span><span class="token property">-webkit-animation-fill-mode</span><span class="token punctuation">:</span>both<span class="token punctuation">;</span><span class="token property">animation-fill-mode</span><span class="token punctuation">:</span>both<span class="token punctuation">}</span><span class="token selector">.spinner .bounce1</span><span class="token punctuation">{</span><span class="token property">-webkit-animation-delay</span><span class="token punctuation">:</span>-0.32s<span class="token punctuation">;</span><span class="token property">animation-delay</span><span class="token punctuation">:</span>-0.32s<span class="token punctuation">}</span><span class="token selector">.spinner .bounce2</span><span class="token punctuation">{</span><span class="token property">-webkit-animation-delay</span><span class="token punctuation">:</span>-0.16s<span class="token punctuation">;</span><span class="token property">animation-delay</span><span class="token punctuation">:</span>-0.16s<span class="token punctuation">}</span><span class="token atrule"><span class="token rule">@-webkit-keyframes</span> bouncedelay</span><span class="token punctuation">{</span><span class="token selector">0%,80%,100%</span><span class="token punctuation">{</span><span class="token property">-webkit-transform</span><span class="token punctuation">:</span><span class="token function">scale</span><span class="token punctuation">(</span>0.0<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token selector">40%</span><span class="token punctuation">{</span><span class="token property">-webkit-transform</span><span class="token punctuation">:</span><span class="token function">scale</span><span class="token punctuation">(</span>1.0<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token atrule"><span class="token rule">@keyframes</span> bouncedelay</span><span class="token punctuation">{</span><span class="token selector">0%,80%,100%</span><span class="token punctuation">{</span><span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">scale</span><span class="token punctuation">(</span>0.0<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token property">-webkit-transform</span><span class="token punctuation">:</span><span class="token function">scale</span><span class="token punctuation">(</span>0.0<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token selector">40%</span><span class="token punctuation">{</span><span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">scale</span><span class="token punctuation">(</span>1.0<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token property">-webkit-transform</span><span class="token punctuation">:</span><span class="token function">scale</span><span class="token punctuation">(</span>1.0<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token selector">.slogn</span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span>40%<span class="token punctuation">;</span><span class="token property">margin</span><span class="token punctuation">:</span>auto<span class="token punctuation">;</span><span class="token property">max-width</span><span class="token punctuation">:</span>230px<span class="token punctuation">}</span><span class="token selector">.loadbox</span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span>100%<span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>//static.centanet.com/wap/main/css/app.css</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>preload</span> <span class="token attr-name">as</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>style</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>//static.centanet.com/wap/main/js/app.js</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>preload</span> <span class="token attr-name">as</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>//static.centanet.com/wap/main/js/chunk-vendors.js</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>preload</span> <span class="token attr-name">as</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>//static.centanet.com/wap/main/css/app.css</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>stylesheet</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>loading</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>loadbox</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>slogn</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAAAeCAMAAAAPdZL9AAAAllBMVEUAAAD/I07+L0//K0f+L0/+L0/+L1D+L0//L0//Jkb+L0/+L0//LlD/Lk7+L0v/ME3+L0/+L0/+Lk//Lk/+L03+Lk/+L07/Lk3/L0//K03/Lk7/L07+L0//Lk7+Lk//L0/+L0//Lk7+Lk7+Lk7+LlD+Lk7/Lk//LU7+L0//Lk7/Lk7/Lk7+L0//Kkv+L0//L07+Lk7/MFCc3aXiAAAAMXRSTlMAA9cO/e37vMsH9OhGQSQS4/m0MF7Qjh/xF1RO3MB8Zt93r20bnKY5xaFiK9QLk4Zw9lKVfgAABWVJREFUWMPFmOtimjAUgE8gyk3kIqggVcQqUrw07/9ywyQng4obum77/rRBQvIlOScBaGHpAgsecNYlBPohC0ECT0NEpYTXJ9MZp4Z7vAVneoa+vvfTufc6ElTQiz53RhI/fXDLKOAU0E991CSnT9KR3Gj28lgC7IOGkx4zTg73bAOOPYE20ehXXKDFhQmKfoU9E9CsoHZEeu+xGSfsn7BZxgRj02bX9qIpeUVNh4r//ZXmWj7iiyYTjJw+hmu+HykTmFPryoL185rpCAdqrUdBUOmgCBln96eadPKumMrV3fzrARxMBHsxMpFQjfjMZJLKu62cMZ2fn9O0djY+/wOApA49JOq3E+PM/1hzpjps+BwzFQ4me4yPmrWjJgI4q4BV5CnNOcWHLsQ6ZSz2QFIxTvptmivZk5NoTGk6E/cnK6erGamJjlorsNClgCHZeqi5MZBSJukKx8mocbw1GuP/i5xHiyU0gzyQLnlDQZqQMZAraq4KvFR1NGdpw0V25C3lzJSm316Did/WtDa43PISFKXPjmKoDNkErZTmnOLcrYTGEZNPoQNSa1Sb/lxjWZXIae1ybDSnY9nGONyipjOWbWSkrXlh91QDNMlctiG1kFnG4veW5sWdqkU7dedtzTpGy3W7mYXJHBfTcOLxNOhw0MppCFuahlurRVu6Wp+mbNjxb8hVuP+9ZnIYB7a9XI5GmDKUZ0zz8qfmrhObm5bmxMdef1jQJgmZk5JOohJgbPIC/NQ8kHZsmo816YRXTSlqrjacyGo3FomLty7oi/ck8Tx5lOhAmlw9QPMcRWm6mrhlKcep09CHfhuxUJDK650U9JqmyERjqdlAPAF66LJMYAADNAcwYYJ1VzN7XXPO5y5FTeIl7kiwTzh6KE90ZZKQ22Fz+guswZqWJ+B51+PogCzW+zHXrCecDNN/Q/m8JuIrTe/k455o+5z5G0aS79cAXrx8jDMbrFnmHOPmts457Z3X5XvIdj/mUEysDUfyimYWN4RKU89HSyYI5DkXNZus01h4hoZksnU7wytxPVhzIiqfGk3sStGj2behvBSb5MbP2NR1DIxCvrVIzWX59Y3LC+Sma4HimzU/DYSX6ZthXMj3pKCSCQ4gQM367vguNY9/TXMNCMn5utFfTkG7G3t6r1mI3uvmf9UkIgutHK7pPa15YR3uNQPjdvSq3+h/1UxH4xuG/6Lm7u3GMRDlIy9tpabE2S22mJBQk5QuspKa8cRF9G/WJOItgRrvr2oCEMuyFo5IlgnBgxSc5QruQudizrycPcaefXMKigL5i/Wy5rnIsmyFmpOs4SomzDXuJMMSBHoYIycq5WLE/OYNRbN543sPpObC887PaSbhraEUNVMZmxxr63QknR1I/mlsSoPKAqlJbds2nt5QejSRRUWZolrA85qHnas0y93hq6Y7VJNeLZCad8cDc7dS75sfu/xpTbKKW5rxynpOU4p6qHlhCGomxUBNm1uC9aZJDjdN1blQaY4Ye6jpuL2aXsG6VGS45sWUrNVsfpqIq77dCa7kN5rb/u+KpuSiNA28VNxpBu6iR9OKNPYVLYI7kn5NIIjSJApZM6Sic1sCv9akK+iDKFRsttvoauYufNX0ptP6QDEs8ktO1YTOprUOYKUfyKeMkGyDVyJv0Jc9XUaqzS37NJOQSZz1tktEBn7ZQ02nPO+udlfzc7m0GXJ5h+SKRWovl7vbvkkVTEIRezZE0zNkzQ1Av6Z+ZA85PqmZLcBzGOtqfmgKw+UPLA1NEckXsUfEdVcz8zkVtLGuJ3FzCpKtqL0nKj+JG/Yn7Z5DV/PT5+QutJm8CaawmQHohSyGXskPez8A7pJJQcOqnGEAAAAASUVORK5CYII=<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>spinner</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>bounce1</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>bounce2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>bounce3</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>app</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>//static.centanet.com/wap/main/js/chunk-vendors.js</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>//static.centanet.com/wap/main/js/app.js</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><br><br></p> <h2 id="发布测试环境流程"><a href="#发布测试环境流程" class="header-anchor">#</a> 发布测试环境流程</h2> <h3 id="构建测试包"><a href="#构建测试包" class="header-anchor">#</a> 构建测试包</h3> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>整站所有静态资源、JS逻辑文件均托管至OSS上，因此日常迭代发布测试环境，直接将构建好的测试包上传至OSS上即可，无须登录10.58.8.33服务器，若涉及修改配置和新城市部署，则需要登录服务器上操作</p></div> <p>在程序目录执行cmd命令<code>npm run test</code> 构建生产包,输出示例,出现打包文件明细 ,且无错误输出 则构建成功
构建文件路径： <code>项目根目录/dist/test/</code>**`</p> <div class="language-shell extra-class"><pre class="language-shell"><code>E:<span class="token punctuation">\</span>git-new<span class="token punctuation">\</span>centanet-webapp-3.<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>npm run <span class="token builtin class-name">test</span>

<span class="token operator">&gt;</span> centanet@0.1.0 prd E:<span class="token punctuation">\</span>git-new<span class="token punctuation">\</span>centanet-webapp-3.1
<span class="token operator">&gt;</span> cross-env <span class="token assign-left variable">VUE_APP_TYPE</span><span class="token operator">=</span>prd  vue-cli-service build

当前构建环境： prd

File                                      Size             Gzipped
  fei<span class="token punctuation">\</span>js<span class="token punctuation">\</span>jquery-1.8.3.min.js
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>js<span class="token punctuation">\</span>chunk-core.js                 <span class="token number">602.50</span> KiB       <span class="token number">161.15</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>js<span class="token punctuation">\</span>chunk-vendors.js              <span class="token number">351.80</span> KiB       <span class="token number">102.29</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>js<span class="token punctuation">\</span>chunk-common.js               <span class="token number">324.36</span> KiB       <span class="token number">100.53</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>js<span class="token punctuation">\</span>chunk-common~chunk-core.js    <span class="token number">208.07</span> KiB       <span class="token number">61.02</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>js<span class="token punctuation">\</span>app.js                        <span class="token number">56.35</span> KiB        <span class="token number">15.15</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>js<span class="token punctuation">\</span>chunk-ab315798.js             <span class="token number">46.12</span> KiB        <span class="token number">26.73</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>js<span class="token punctuation">\</span>chunk-c95dd0f6.js             <span class="token number">20.75</span> KiB        <span class="token number">6.77</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>js<span class="token punctuation">\</span>chunk-dc4ed7f2.js             <span class="token number">6.44</span> KiB         <span class="token number">4.13</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>config.js                        <span class="token number">5.74</span> KiB         <span class="token number">1.25</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>js<span class="token punctuation">\</span>chunk-499e7cc5.js             <span class="token number">4.08</span> KiB         <span class="token number">1.76</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>css<span class="token punctuation">\</span>chunk-core.css               <span class="token number">265.81</span> KiB       <span class="token number">49.68</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>css<span class="token punctuation">\</span>chunk-common.css             <span class="token number">177.83</span> KiB       <span class="token number">44.42</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>css<span class="token punctuation">\</span>chunk-vendors.css            <span class="token number">151.08</span> KiB       <span class="token number">23.74</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>css<span class="token punctuation">\</span>app.css                      <span class="token number">29.70</span> KiB        <span class="token number">6.48</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>css<span class="token punctuation">\</span>chunk-c95dd0f6.css           <span class="token number">5.14</span> KiB         <span class="token number">1.25</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>css<span class="token punctuation">\</span>chunk-dc4ed7f2.css           <span class="token number">1.50</span> KiB         <span class="token number">0.58</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>css<span class="token punctuation">\</span>chunk-499e7cc5.css           <span class="token number">1.43</span> KiB         <span class="token number">0.47</span> KiB

  Images and other types of assets omitted.

 DONE  Build complete. The dist<span class="token punctuation">\</span>prd directory is ready to be deployed.
 INFO  Check out deployment instructions at https://cli.vuejs.org/guide/deployment.html
</code></pre></div><hr> <p><br><br></p> <h3 id="测试环境发布-部署"><a href="#测试环境发布-部署" class="header-anchor">#</a> 测试环境发布&amp;部署</h3> <hr> <p>基本操作部分和线上发布一致，服务器地址和配置有部分差异，具体如下：</p> <p><strong>测试服务器IP：</strong> 10.58.8.33<br> <strong>静态文件上传OSS路径：</strong> <code>oss://static-centanet-com/wap/main-test/</code><br> <strong>项目路径：</strong> <code>D:\WebRoot\vue</code></p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>测试环境新增城市时，需要手动将该城市模板文件index.html中的/main/替换为/main-test/，保证访问的静态文件为对应的测试环境OSS路径</p></div> <p><br><br></p> <h2 id="发布生产环境流程"><a href="#发布生产环境流程" class="header-anchor">#</a> 发布生产环境流程</h2> <h3 id="构建生产包"><a href="#构建生产包" class="header-anchor">#</a> 构建生产包</h3> <hr> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>整站所有静态资源、JS逻辑文件均托管至OSS上，因此日常迭代发布生产环境，直接将构建好的生产包上传至OSS上即可，无须登录10.4.18.xx服务器，若涉及修改配置和新城市部署，则需要登录服务器上操作</p></div> <p>在程序目录执行cmd命令<code>npm run prd</code> 构建生产包,输出示例,出现打包文件明细 ,且无错误输出 则构建成功
构建文件路径： <code>项目根目录/dist/prd/</code>**`</p> <div class="language-shell extra-class"><pre class="language-shell"><code>E:<span class="token punctuation">\</span>git-new<span class="token punctuation">\</span>centanet-webapp-3.<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>npm run  prd

<span class="token operator">&gt;</span> centanet@0.1.0 prd E:<span class="token punctuation">\</span>git-new<span class="token punctuation">\</span>centanet-webapp-3.1
<span class="token operator">&gt;</span> cross-env <span class="token assign-left variable">VUE_APP_TYPE</span><span class="token operator">=</span>prd  vue-cli-service build

当前构建环境： prd

File                                      Size             Gzipped
  fei<span class="token punctuation">\</span>js<span class="token punctuation">\</span>jquery-1.8.3.min.js
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>js<span class="token punctuation">\</span>chunk-core.js                 <span class="token number">602.50</span> KiB       <span class="token number">161.15</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>js<span class="token punctuation">\</span>chunk-vendors.js              <span class="token number">351.80</span> KiB       <span class="token number">102.29</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>js<span class="token punctuation">\</span>chunk-common.js               <span class="token number">324.36</span> KiB       <span class="token number">100.53</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>js<span class="token punctuation">\</span>chunk-common~chunk-core.js    <span class="token number">208.07</span> KiB       <span class="token number">61.02</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>js<span class="token punctuation">\</span>app.js                        <span class="token number">56.35</span> KiB        <span class="token number">15.15</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>js<span class="token punctuation">\</span>chunk-ab315798.js             <span class="token number">46.12</span> KiB        <span class="token number">26.73</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>js<span class="token punctuation">\</span>chunk-c95dd0f6.js             <span class="token number">20.75</span> KiB        <span class="token number">6.77</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>js<span class="token punctuation">\</span>chunk-dc4ed7f2.js             <span class="token number">6.44</span> KiB         <span class="token number">4.13</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>config.js                        <span class="token number">5.74</span> KiB         <span class="token number">1.25</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>js<span class="token punctuation">\</span>chunk-499e7cc5.js             <span class="token number">4.08</span> KiB         <span class="token number">1.76</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>css<span class="token punctuation">\</span>chunk-core.css               <span class="token number">265.81</span> KiB       <span class="token number">49.68</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>css<span class="token punctuation">\</span>chunk-common.css             <span class="token number">177.83</span> KiB       <span class="token number">44.42</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>css<span class="token punctuation">\</span>chunk-vendors.css            <span class="token number">151.08</span> KiB       <span class="token number">23.74</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>css<span class="token punctuation">\</span>app.css                      <span class="token number">29.70</span> KiB        <span class="token number">6.48</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>css<span class="token punctuation">\</span>chunk-c95dd0f6.css           <span class="token number">5.14</span> KiB         <span class="token number">1.25</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>css<span class="token punctuation">\</span>chunk-dc4ed7f2.css           <span class="token number">1.50</span> KiB         <span class="token number">0.58</span> KiB
  dist<span class="token punctuation">\</span>prd<span class="token punctuation">\</span>css<span class="token punctuation">\</span>chunk-499e7cc5.css           <span class="token number">1.43</span> KiB         <span class="token number">0.47</span> KiB

  Images and other types of assets omitted.

 DONE  Build complete. The dist<span class="token punctuation">\</span>prd directory is ready to be deployed.
 INFO  Check out deployment instructions at https://cli.vuejs.org/guide/deployment.html
</code></pre></div><p><br><br></p> <h3 id="针对已上线城市部署"><a href="#针对已上线城市部署" class="header-anchor">#</a> 针对已上线城市部署</h3> <hr> <p>(日常迭代维护发版时,使用此方式)<br> <strong>1.更新静态文件至阿里云OSS</strong><br>
除<code>index.html</code>和<code>web.config</code>文件以外,其他所有文件均托管至阿里云OSS, 只需将上方打包好的文件拷贝至OSS以下目录即可。<br>
将  <code>项目根目录/dist/prd/</code>  文件夹下的 <code>css、img、js</code> 三个目录 拷贝至 阿里云  <code>oss://house730-static/m/main/</code> 目录下</p> <p><strong>2.更新CDN（防止静态文件缓存）</strong><br>
阿里云CDN管理后台地址：<a href="https://cdn.console.aliyun.com/overview" target="_blank" rel="noopener noreferrer">https://cdn.console.aliyun.com/overview<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>  (账号密码向PM索取),
登录后按一下操作刷新CDN<br> <code>刷新预热</code>=&gt;<code>刷新缓存</code>=&gt;刷新类型选择 <code>[目录]</code>=&gt; URL输入<a href="https://static.centanet.com/wap/main/" target="_blank" rel="noopener noreferrer">https://static.centanet.com/wap/main/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 提交即可<br>
一般会立即生效, 重新打开官网,清除本地缓存并验证发布的内容是否生效。</p> <p><a data-fancybox="" title="" href="/assets/oss.png"><img src="/assets/oss.png" alt=""></a></p> <p><br><br></p> <h3 id="针对新城市开通上线"><a href="#针对新城市开通上线" class="header-anchor">#</a> 针对新城市开通上线</h3> <hr> <p>(旧城市迁移新服务器时也使用此方式)</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>因官网Vue项目均使用history模式, 必须配置路由重写功能才能访问。服务器上首次部署此类应用, 需做URL重写模块相关的配置,具具体操作最如下：</p></div> <p><strong>1.安装微软官方提供的IIS URL Write模块</strong><br>
下载地址：<a href="https://www.iis.net/downloads/microsoft/url-rewrite" target="_blank" rel="noopener noreferrer">https://www.iis.net/downloads/microsoft/url-rewrite<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <br><br></p> <p><strong>2.创建对应城市文件夹,目录名称一般以城市简拼</strong><br>
例如：<code>D:\waproot\Vue_Mobile\bj</code> <br><br></p> <p><strong>3.拷贝创建好的index.htm模板文件值对应城市文件夹</strong><br>
将  <code>项目根目录/public/template/bj/index.html</code> 文件拷贝至
服务器的  <code>D:\waproot\Vue_Mobile\bj</code>  文件夹
<br><br></p> <p><strong>4.创建web.config配置文件,配置以下内容,放入对应城市文件夹</strong><br>
由于商铺写字楼应用也部署该应用下,需要在规则里排除商铺和写字楼</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token operator">&lt;</span><span class="token class-name">match</span> url<span class="token operator">=</span><span class="token string">&quot;^((?!gongshangpu|xiezilou).)*$&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><p>设置规则应用目录,即新增的城市对应的路径,例如北京做如下配置：</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token operator">&lt;</span><span class="token class-name">action</span> type<span class="token operator">=</span><span class="token string">&quot;Rewrite&quot;</span> url<span class="token operator">=</span><span class="token string">&quot;/bj/&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><p>完整配置如下：</p> <div class="language-csharp extra-class"><div class="highlight-lines"><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br></div><pre class="language-csharp"><code><span class="token operator">&lt;</span><span class="token punctuation">?</span><span class="token class-name">xml</span> version<span class="token operator">=</span><span class="token string">&quot;1.0&quot;</span> encoding<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>configuration<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>system<span class="token punctuation">.</span>webServer<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>rewrite<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>rules<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token class-name">rule</span> name<span class="token operator">=</span><span class="token string">&quot;Handle History Mode and custom 404/500&quot;</span> stopProcessing<span class="token operator">=</span><span class="token string">&quot;true&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token class-name">match</span> url<span class="token operator">=</span><span class="token string">&quot;^((?!gongshangpu|xiezilou).)*$&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token class-name">conditions</span> logicalGrouping<span class="token operator">=</span><span class="token string">&quot;MatchAll&quot;</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span><span class="token keyword">add</span> input<span class="token operator">=</span><span class="token string">&quot;{REQUEST_FILENAME}&quot;</span> matchType<span class="token operator">=</span><span class="token string">&quot;IsFile&quot;</span> negate<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span><span class="token keyword">add</span> input<span class="token operator">=</span><span class="token string">&quot;{REQUEST_FILENAME}&quot;</span> matchType<span class="token operator">=</span><span class="token string">&quot;IsDirectory&quot;</span> negate<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>conditions<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token class-name">action</span> type<span class="token operator">=</span><span class="token string">&quot;Rewrite&quot;</span> url<span class="token operator">=</span><span class="token string">&quot;/bj/&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>rule<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>rules<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>rewrite<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>system<span class="token punctuation">.</span>webServer<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>configuration<span class="token operator">&gt;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>完成以上操作后,剩余步骤与【已上线城市部署】一致。</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/guide/centanet/passport.html">
        中原找房官网(用户中心)
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.fe1f2b84.js" defer></script><script src="/assets/js/2.252b81b9.js" defer></script><script src="/assets/js/17.4c471b83.js" defer></script>
  </body>
</html>
